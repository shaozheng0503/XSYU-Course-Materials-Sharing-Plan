## 填空判断题目收集

1、传统以太网规定了最短有效帧将凡是长度小于60字节的帧都是因冲突而异常中止的无效帧

2、信道复用技术中，统计时分复用--规定所有用户可在同样时间占用不同的带宽资源。

3、如果某种应用对数据的实时性要求比较高，但对数据的准确性要求相对较低（例
如在线电影），那么一般可在传输层采用UDP协议

4、RIP协议规定仅和--相邻路由器--交换路由信息

5、应用层协议中常用的文件传输协议有FTP和TFTP协议

6、**HTTP（超文本传输协议）**默认使用 **TCP端口80**

DNS 常用端口：53（  域名解析协议）

7、慢开始算法作为一种拥塞控制算法，其规定拥塞窗口大小按指数规律增大。

8、  TCP的面向连接是传输层的，而HTTP的无连接则是应用层的 。所以HTTP是面向无连接的

9、子网掩码尽量是连续的1，0

10、ip首部，可选长度为10字节，填充字段为2字节，首部长度字段为

11、配置 R1 静态路由：

```
[R1]  ip route-static 128.1.3.64  26  128.1.2.131
[R1]  ip route-static 128.1.4.128  25  128.1.2.131
```

12、IGMP 是主机加入或离开多播组时，用来告诉本地路由器“我想/不想接收某组数据”的协议

13、如果想要以太网以全双工通信，则需要把共享型网络变成交换网络，使用交换机

14、MAC地址由48位构成，分为OUI（组织机构标识符）和EUI（生产厂商自行 分配）两部分



## 知识点

1、在传输层，常见的两种协议是：

| 协议                                 | 特点                             | 应用举例                          |
| ------------------------------------ | -------------------------------- | --------------------------------- |
| TCP（Transmission Control Protocol） | 三次握手，面向连接，可靠，慢一些 | 网页访问（HTTP）、文件传输（FTP） |
| UDP（User Datagram Protocol）        | 无连接，不可靠，但快             | 视频、语音通话、DNS               |



2、端口号总共可以从 `0` 到 `65535`，分为三个区间：

| 端口号范围    | 名称                             | 用途                                |
| ------------- | -------------------------------- | ----------------------------------- |
| 0 - 1023      | **知名端口（Well-known Ports）** | 分配给一些知名服务，比如 HTTP（80） |
| 1024 - 49151  | 注册端口（Registered Ports）     | 用于注册的服务，比如 3306 是 MySQL  |
| 49152 - 65535 | 动态/私有端口                    | 临时分配给客户端使用                |

| 协议       | 所属层级 | 默认端口号                | 描述与作用                                        |
| ---------- | -------- | ------------------------- | ------------------------------------------------- |
| **HTTP**   | 应用层   | **80**                    | 浏览网页，默认使用 TCP 端口 80                    |
| **HTTPS**  | 应用层   | 443                       | 安全的 HTTP，使用 SSL/TLS 加密，默认 TCP 端口 443 |
| **FTP**    | 应用层   | **20（数据） 21（控制）** | 文件传输协议（不加密）                            |
| **SMTP**   | 应用层   | **25**                    | 发邮件协议                                        |
| **POP3**   | 应用层   | **110**                   | 收邮件协议（较老）                                |
| **IMAP**   | 应用层   | 143                       | 收邮件协议（现代，支持多终端同步）                |
| **DNS**    | 应用层   | **53**                    | 域名解析，通常用 **UDP**，有时也用 TCP            |
| **Telnet** | 应用层   | **23**                    | 远程登录协议（不安全）                            |
| **SSH**    | 应用层   | B                         | 安全远程登录协议                                  |



3、慢开始算法，拥塞控制算法

窗口的定义

| 窗口                 | 含义                                                 |
| -------------------- | ---------------------------------------------------- |
| **发送窗口**         | 总共能发多少数据                                     |
| **拥塞窗口（cwnd）** | 是一个限制：表示**当前网络允许我“安全”地发多少数据** |

流程

TCP 设置一个**慢开始阈值（ssthresh）**，表示“增长到这就要慢下来了”。

当cwnd < ssthresh  执行慢开始算法

当cwnd > ssthres 拥塞避免算法，只线性+1



4、时分复用和CSMA/CD

（1）时分复用：将传输时间划分为一个个等长时间片，每个设备轮流占用某个时间片

（2）CSMA/CD：设备发送数据前先“监听”信道：

```
- 若信道空闲 → 开始发送
- 若信道忙碌 → 等待
- 若两设备同时监听都觉得空闲 → 同时发 → 产生冲突
- 检测到冲突 → 停止发送，等待随机时间重发
```



5、网络扩展的常用设备

```
物理层：转发器 和 集线器  特点：共享带宽
	
数据链路层：二层交换机 和 网桥 特点：独享带宽

网络层：三层交换机 和 路由器  特点：连接不同网络 独享带宽
```



### **6、计算机网络协议总结，原理，要点，优缺点**

（1）RIP和OSPF

RIP

```
原理：基于距离矢量（Distance Vector）的路由协议，采用“跳数”作为度量标准，每经过一个路由器跳数加1。

要点：
1.仅与相邻路由器交换信息
2.定期（默认30秒）向邻居广播整个路由表（全表更新）
3.最大跳数限制为 15，跳数＝16 表示不可达，用于防环。

好事传的快，坏事传的慢，适用于小型网络
```

OSPF

```
原理：基于链路状态（Link State）的路由协议，每个路由器把与自己相连链路的状态信息（LSA）向全网洪泛，然后各路由器构建完整的拓扑图，用 Dijkstra 算法计算最短路径。

要点：
1.使用洪泛法，向自治系统所有路由表发送信息
2.发送的信息是与本路由器相邻的所有路由器的链路状态
3.只有当链路状态改变时才会使用洪泛法向所有路由器发送信息

适用于大型网络
```

CSMA/CD

```
动态媒体接入控制
要点：
多机接入，载波监听，碰撞检测

先听后发，边听边发，冲突停发，随机重发
当重传达16次仍不能成功时即丢弃该帧，并向高层报告。
```







7、特殊地址总结

```
1. 全 0 地址（0.0.0.0）	 表示“本机”但尚未分配 IP 地址
2. 本地回环地址（127.0.0.1） 表示主机自己，用于本地测试网络功能
3.广播地址（255.255.255.255） 表示本地广播，表示发送给“当前子网中所有主机”
4. 子网广播地址（主机部分全 1） 发送到某个子网内的所有主机，IP: 192.168.1.255（假设子网掩码是 255.255.255.0）

```



8、划动窗口协议

（1）停止等待协议

```
数据发送方发送一个数据包之后，要等待接收方回复，若是收到回复，则发送下一个数据包
若是没有收到回复，则重新发送

缺点：一次只能发送一个数据包，带宽利用率低
```



9、三次握手 和 四次握手

![7595eddb523061ca00f619bbf27f8f8](D:\Document\学习资料\计算机网络\assets\7595eddb523061ca00f619bbf27f8f8.png)

（三次握手是建立连接）

![image-20250624151448293](D:\Document\学习资料\计算机网络\assets\image-20250624151448293.png)

（四次握手是释放连接）

​	

10、流量控制

![11a8e7aeab14e2622d3b42a1678e290](D:\Document\学习资料\计算机网络\assets\11a8e7aeab14e2622d3b42a1678e290.png)

刚开始时慢开始，到达慢开始门限之后，开始执行拥塞避免（线性增长），等到超时之后，将门限值置为原来的1/2， 从1开始执行慢开始算法，等到门限值之后，在执行拥塞避免，若是期间接收到3个相同的重复确认ack，就认为该认为报文段丢失，执行快重传算法（立即重传数据，而不用等到计时器结束），然后，将ssthresh再一次置为1/2， 且从ssthresh开始执行拥塞避免算法





11、网络适配器

也叫网卡，是用来实现数据链路层和物理层这两层的协议的硬件和软件；工作在数据链路层和物理层



12、拥塞控制

```
 慢开始：开始时将拥塞窗口设为一个很小的值，如一个最大报文段MSS，在每收到一个对新的报文段的确认后，将拥塞窗口增加最多一个MSS的值，这样逐步增大发送端的拥塞窗口

    拥塞避免：当拥塞窗口大于拥塞门限时，停止使用慢开始而改用拥塞避免算法。每次使拥塞窗口每经过一个RTT就增加一个MSS的大小

    快重传：发送端收到连续三个重复ACK即判定有分组丢失，不等待超时而直接重传报文

    快恢复：当发送端收到连三个重复ACK时，就重新设置慢开始门限，同时将拥塞窗口设置为慢开始门限，然后执行拥塞避免

    

    乘法减小：不论在慢开始阶段还是拥塞避免阶段，只要出现一次超时，就把慢开始门限设置为当前拥塞窗口值*0.5，当频繁出现拥塞时，慢开始门限值就下降得很慢，以大大减少注入到网络中的分组数

    加法增大：执行拥塞避免后，在收到对所有报文段的确认后，就把拥塞窗口增大一个MSS大小，使拥塞窗口缓慢增大，防止网络过早出现拥塞 
——————————
```







## 大题计算

1、路由聚合

```
原理：将几个子网合成一个大网络
	
步骤:列出所有ip的二进制形式，将相同位合并，不同位之后全部置零

```

2、CRC循环冗余校验

```
原理：
发送方：用二进制序列，和多项式的系数序列，做异或运算，最后将余数加到发送二进制的后面
（计算时，要看多项式的最高次数，假设最高次数为3，则在二进制序列后加上3个0）

接收方：将收到的序列，和多项式的系数序列，做异或运算，看余数，为0的话，就代表没出错

```

![image-20250623234106334](C:\Users\魏江华\AppData\Roaming\Typora\typora-user-images\image-20250623234106334.png)

![image-20250623234109419](C:\Users\魏江华\AppData\Roaming\Typora\typora-user-images\image-20250623234109419.png)

CRC的位数 是 除数 - 1， 就如上题，除数是1101， 而crc计算得001， 0不能省略



3、根据路由表，计算下一跳

```
将收到的ip地址，与对应的子网掩码（看ip地址的前缀相同的）做and运算，拿着运算结果去和路由表中的ip去比较，匹配不到的就是默认路由
```



4、数据分片

（1）ip

一个数据报长度为4000字节，现在经过一个网络传送，此网络能够传送的最大数据长度为1500字节，求应该划分为几个短些的数据报片？各数据报片的数据字段长度、片偏移字段和、MF标志应为什么？

**片偏移字段为8字节一单位， ip数据报首部默认20字节**

    IP数据报固定首部长度为20字节
    
    数据报                总长度        数据长度            MF（1代表后面还有分片）            片偏移
    
    原始数据报           4000            3980                0              			   0
    
    数据报片1            1500            1480                1            		        0
    
    数据报片2            1500            1480                1          		     1480 / 8 =  185
    
    数据报片3            1040            1020                0          		      370



（2）udp数据包

**udp的首部为8个字节，MAC最多传1500字节，ip数据包首部20字节**

一个UDP用户数据的数据字段为8192字节。在数据链路层使用以太网来传送，应当划分为几个IP数据片？说明每一个IP数据报段长度和片偏移字段的值

解：6个；数据字段长度：前5个是1480字节，最后一个是800字节。片偏移字段的值是：0，1480/8=185，2960/8=370，4440/8=555，5920/8=740，7400/8=925

解析：**8192的数据+8字节UDP首部=8200**；在MAC帧中，数据部分最大长度1500字节，而UDP还要封装进IP数据报中，IP数据报首部最小20字节，所以一次能传输最多的数据即1500-20=1480；8200/1480=5......800，因此分成6片，前5片数据字段长1480字节，最后一片长800字节；片偏移字段分别为0、185、370、555、740、925


5、子网划分

![image-20250624195756223](D:\Document\学习资料\计算机网络\assets\image-20250624195756223.png)

一种是要求写出地址块前缀，从二叉树中得出即可

还有一种是写子网分配方案，详细写出从哪个ip 到 哪个ip， 具体后缀取决于主机数



6、**CSMA/CD（带冲突检测的载波监听多路访问）** 协议最小帧长计算问题。

原理：发送数据的时间 ≥ 信号往返传播时间，这样是为了冲突传到正在发送的主机上的时长， 要小于 主机发送帧的时长

这样假设信道有冲突，就可以及时制止主机发送帧。 

例题：假定1km长的CSMA/CD网络的数据率为1Gb/s。设信号在网络上的传播速率为200000km/s。求能够使用此协议的最短帧长。

解：对于1km长的电缆，单程传播时间为1/200000=5μs，来回传播时间即为10μs，所以最小帧的发射时间不能小于10μs，以1Gb/s速率工作，10μs能发送的比特数为10 x 10^-6 x 1 x 10 ^ 9=10000.因此，最短帧长是10000位



7、超时重传求RTO值

```
原理公式： RTO = RTTs + 4 * RTTD

首次：RTTs = RTT样本值,  RTTD = RTT / 2

非首次: RTTS = （1 - a）* 旧的RTTS + a * 新的TRRS
RTTD = （1 - b） * 旧的RTTD + b *（RTTS - 新的RTTD）
a = 1/8 b = 1/4


```

![image-20250625002601710](D:\Document\学习资料\计算机网络\assets\image-20250625002601710.png)

例题：加权往返平均时间

![image-20250625114314568](D:\Document\学习资料\计算机网络\assets\image-20250625114314568.png)

![image-20250625114339779](D:\Document\学习资料\计算机网络\assets\image-20250625114339779.png)





8、香农公式和奈式准则

有干扰， 用香农，理想环境，用奈式

![image-20250625003549609](D:\Document\学习资料\计算机网络\assets\image-20250625003549609.png)

![image-20250625003634172](D:\Document\学习资料\计算机网络\assets\image-20250625003634172.png)

例题：

![image-20250625003658198](D:\Document\学习资料\计算机网络\assets\image-20250625003658198.png)

**例题：.用香农公式计算一下，假定信道带宽为3100Hz，最大信道传输速率为35Kb/ｓ，那么若想使最大信道传输速率增加60%，问信噪比Ｓ/Ｎ应增大到多少倍？如果在刚才计算出的基础上将信噪比Ｓ/Ｎ再增大到十倍，问最大信息速率能否再增加20%？（可以参考第七题上面的公式）**
![image-20250625005349429](D:\Document\学习资料\计算机网络\assets\image-20250625005349429.png)



例题：计算工作在1200nm到1400nm之间以及工作在1400nm到1600nm之间的光波的频带宽度,光速为2*10^8m/s

    V=V/L1 - V/L2
    
    1200nm~1400nm：带宽=2*10^8/1200*10^-9 - 2*10^8/1400*10^-9=23.8Thz
    
    1400nm~1600nm：带宽=2*10^8/1400*10^-9 - 2*10^8/1600*10^-9=17.86Thz



9、划动窗口大小

时间角度

![image-20250625004718934](D:\Document\学习资料\计算机网络\assets\image-20250625004718934.png)

数据带宽角度

![image-20250625004730648](D:\Document\学习资料\计算机网络\assets\image-20250625004730648.png)



10、**22.主机 A 向主机 B 发送一个很长的文件，其长度为 L 字节。假定 TCP 使用的 MSS 有 1460 字节。
（1）在 TCP 的序号不重复使用的条件下，L 的最大值是多少？
（2）假定使用上面计算出文件长度，而运输层、网络层和数据链路层所使用的首部开销共 66 字节，链路的数据率为 10 Mb/s，试求这个文件所需的最短发送时间**

```
思路
（1）序号字段由4个字节给出，4 * 8 = 32 位， 则由2 ^ 32个序号，每个序号定义一个字节， L最大值即为2 ^ 32
（2）先计算出多少分组，然后根据首部长度得出总共所需要传送的数据量，最后算发送时间
```

答：（1）可能的序号共 2 32 2^{32}232=4294967296 个。TCP 的序号是数据字段中每一个字节的编号，而不是每一个报文段的编号。因此，这一小题与报文段的长度无关，即用不到题目给出的 MSS 值。这个文件 L 的最大值就是可能的序号数，即 4294967296 字节。若1GB= 2 30 2^{30}230B，则 L 的最大值为 4 GB。
（2）发送帧数等于数据字节/每帧的数据字节=2 32 2^{32}232/1460=2941758.422，需要发送 2941759 个帧。
帧首部的开销是 66×2941759 = 194156094 字节。
发送的总字节数 = 2 32 2^{32}232 + 194156094 = 4489123390字节。
数据率 10 Mbilt/s = 1.25 MB/s = 1250000 字节/秒。
发送 4489123390 字节需时间为：4489123390/1250000 =3591.3 秒。
即 59.85 分，约 1 小时。



11、主**机 A 向主机 B 连续发送了两个 TCP 报文段，其序号分别为 70 和 100。试问：
（1）第一个报文段携带了多少个字节的数据？
（2）主机 B 收到第一个报文段后发回的确认中的确认号应当是多少？
（3）如果主机 B 收到第二个报文段后发回的确认中的确认号是 180，试问 A 发送的第二个报文段中的数据有多少字节？
（4）如果 A 发送的第一个报文段丢失了，但第二个报文段到达了 B。B 在第二个报文段到达后向 A 发送确认。试问这个确认号应为多少？**
答：
（1）第一个报文段的数据序号是 70 到 99，共 30 字节的数据。
（2）B 期望收到下一个报文段的第一个数据字节的序号为 100，因此确认号为 100。
（3）A 发送的第二个报文段中的数据中的字节数是 180 - 100 = 80 字节（**实际上，就是序号 100 到序号 179 的字节，即 179 - 100 + 1 = 80 字节**）
（4）B 在第二个报文段到达后向 A 发送确认，其确认号应为 70。**（报文段丢失，就会重复发送确认上一个未收到的报文段第一个序号，即 70）**



